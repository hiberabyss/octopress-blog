<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | 蛰渊-成长的轨迹]]></title>
  <link href="http://hiberabyss.github.io/blog/categories/Linux/atom.xml" rel="self"/>
  <link href="http://hiberabyss.github.io/"/>
  <updated>2013-07-22T20:47:44+08:00</updated>
  <id>http://hiberabyss.github.io/</id>
  <author>
    <name><![CDATA[hiberabyss]]></name>
    <email><![CDATA[liuhb90@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ubuntu的一些配置方法]]></title>
    <link href="http://hiberabyss.github.io/blog/20130716/ubuntu/"/>
    <updated>2013-07-16T20:19:00+08:00</updated>
    <id>http://hiberabyss.github.io/blog/20130716/ubuntu</id>
    <content type="html"><![CDATA[<p>以Ubuntu为主的对Linux的一些配置，标记通用则表示也适用于其他Linux版本。</p>

<!--more-->

<h2 id="section">时间设置（通用）</h2>
<p>利用<code>ntpdate</code>进行时间同步，需已安装包<code>ntp</code>：</p>

<p><code>
ntpdate us.pool.ntp.org
</code></p>

<p>修改时区：</p>

<p><code>
cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</code></p>

<h2 id="section-1">调整分辨率</h2>

<p><code>lang
#设置自动调整
#LVDS1为一种显示模式，直接运行xrandr可显示当前可用的模式
xrandr --output LVDS1 --auto
</code></p>

<h2 id="ezame">利用ezame调整右键菜单</h2>
<p>搜索到<code>Wine Windowns Program Loader</code>项目，把<code>No Display</code>选项关闭（这样便可以在右键菜单选择默认程序时出现该程序），在<code>Exec</code>参数前加上<code>env LANG="zh_CN.UTF-8"</code>。</p>

<h2 id="uuid">查看UUID</h2>

<p><code>bash
sudo blkid
ls -l /dev/disk/by-uuid/
</code></p>

<h2 id="linux">编译Linux内核</h2>

<p><code>lang
#查看帮助文档
make help
#参考当前内核加载的模块生成config文件
make localmodinstall
make
#将生成的模块复制到 /lib/modules/version 目录下
make modules_install
#生成内核文件、initrd文件等，并复制到 /boot/ 目录下
make install
#以上四步即可完成内核的编译与安装
</code></p>

<h2 id="cache">手动清除cache内存</h2>

<p><code>bash
sync
echo 3 &gt; /proc/sys/vm/drop_caches
#To free pagecache, use 
echo 1 &gt; /proc/sys/vm/drop_caches
#to free dentries and inodes, use
echo 2 &gt; /proc/sys/vm/drop_caches
#to free pagecache, dentries and inodes, use 
echo 3 &gt; /proc/sys/vm/drop_caches
#Because this is a non-destructive operation and dirty objects
#are not freeable, the user should run sync first.
</code></p>

<ul>
  <li><a href="http://www.linuxany.com/archives/814.html">手工释放linux内存</a></li>
</ul>

<h2 id="section-2">代理上网</h2>
<p>只要把网关和DNS地址设置为能上外网的电脑的ip地址即可。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CentOS常用配置]]></title>
    <link href="http://hiberabyss.github.io/blog/20130711/centos/"/>
    <updated>2013-07-11T19:47:00+08:00</updated>
    <id>http://hiberabyss.github.io/blog/20130711/centos</id>
    <content type="html"><![CDATA[<p>本文记录对CentOS的一些配置方法。</p>

<!--more-->

<h2 id="section">包管理</h2>
<p><code>
#安装包
rpm -ivh your.rpm --force --nodeps
#升级包
rpm -Uvh your.rpm --force --nodeps
#卸载包
rpm -e --nodeps uninstall.rpm
#查询已安装的包
rpm -qa pattern
</code></p>

<h2 id="section-1">服务管理</h2>
<p><code>
#设置服务开机启动
chkconfig the-service on
#查询某个服务开启状态
chkconfig --list the-service
</code></p>

<h2 id="section-2">修改主机名</h2>

<p><code>
#临时设置主机名为the-name，重启后失效；需要重新登陆
hostname the-name
</code></p>

<p>编辑文件<code>/etc/sysconfig/network</code>，对如下字段做修改：</p>

<p><code>
HOSTNAME=the-name
</code></p>

<h2 id="section-3">网络接口配置</h2>
<p>修改<code>/etc/sysconfig/network-scripts/ifconfig-eth0</code>文件进行相应的网络设置，其中<code>eth0</code>可以用相应的网络接口名称代替，如果相应的文件不存在，则可以创建一个新的文件：</p>

<p><code>bash
DEVICE="eth0"
BOOTPROTO="static"
HWADDR="网卡物理地址"
#如果BOOTPROTO设置为dhcp，则不需要下面的设置
IPADDR=ip地址
NETMASK=子网掩码
GATEWAY=网关
</code></p>

<p>修改文件<code>/etc/resolv.conf</code>可以配置DNS服务器：</p>

<p><code>
#国内公用DNS服务器
nameserver 114.114.114.114
#Google公用dns服务器
nameserver 8.8.8.8
nameserver 8.8.4.4
</code></p>

<p>修改文件<code>/etc/udev/rules.d/70-persistent-net.rules</code>可以根据相应的<code>mac</code>地址修改网络接口的显示名称。</p>

<h2 id="section-4">本地源</h2>
<p>将iso文件挂载到目录<code>/mnt/iso</code>，并写入到文件<code>/etc/fstab</code>中</p>

<p><code>
mount -o loop /root/iso/CentOS-6.3-x86_64-bin-DVD1.iso /mnt/dvd1/
</code></p>

<p>新建文件<code>/etc/yum.repos.d/locale.repo</code>文件，写入一下内容：</p>

<p><code>
[locale]
name=CentOS-6.3 - DVD1
baseurl=file:///mnt/dvd1/ file:///mnt/dvd2/
enable=1
gpcheck=1
gpgkey=file:///mnt/dvd1/RPM-GPG-KEY-CentOS-6
</code></p>

<p>把目录<code>/etc/yum.repos.d/</code>下<code>CentOS-Base.repo</code>文件和<code>CentOS-Debuginfo.repo</code>文件更改后缀名，否则会报错。</p>

<p>或者利用如下方式使用<code>yum</code></p>

<p><code>
#只使用本地源
yum --disablerepo=/* --enablerepo=locale install
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux目录的可执行权限]]></title>
    <link href="http://hiberabyss.github.io/blog/20130704/directory-execute-bit/"/>
    <updated>2013-07-04T10:37:00+08:00</updated>
    <id>http://hiberabyss.github.io/blog/20130704/directory-execute-bit</id>
    <content type="html"><![CDATA[<p>Linux目录必须要有可执行权限，此时<code>x</code>字段并不是真的代表可执行，而只是被重利用，用来表示在路径搜索中是否允许进行搜索，因此目录的<code>x</code>字段又被称为<code>search permision</code>字段。</p>

<!--more-->

<p>例如，当搜索目录<code>/path/to/file</code>时，如果目录<code>to</code>没有可执行权限，则在搜索<code>to</code>目录之前会首选判断<code>x</code>字段是否置位，如果没有，则提示没有权限。但如果有<code>to</code>目录的读取权限，还是可以显示<code>to</code>目录的内容的。</p>

<p>在用<code>cd dir</code>切换目录时，需要<code>dir</code>目录具有可执行权限，否则会提示权限错误。</p>

<ul>
  <li><a href="http://www.cnblogs.com/frydsh/archive/2013/01/15/2862066.html">参考资料</a></li>
  <li><a href="http://bbs.51cto.com/thread-886747-1.html">Linux文件权限学习总结</a></li>
</ul>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[bash编程的一些总结]]></title>
    <link href="http://hiberabyss.github.io/blog/20130628/bash-summary/"/>
    <updated>2013-06-28T11:51:00+08:00</updated>
    <id>http://hiberabyss.github.io/blog/20130628/bash-summary</id>
    <content type="html"><![CDATA[<p>对shell编程的一些总结，直接使用代码进行示例。</p>

<!--more-->

<h2 id="section">相关文档</h2>
<ul>
  <li>一篇会很有用的文章<a href="http://tech.idv2.com/2008/01/09/bash-pitfalls/">Bash的陷阱</a>，抽时间好好看一下。bash的帮助文档很详细，所有的东西都可以从里面找到，要了解该帮助文档的组织结构。</li>
  <li><a href="http://kodango.com/simple-bash-programming-skills-2">简洁的Bash编程技巧续篇</a></li>
</ul>

<p>{% codeblock bash.sh lang:bash %}
	{% render_partial sample-language/shell/bash.sh %}
{% endcodeblock %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux常用命令]]></title>
    <link href="http://hiberabyss.github.io/blog/20130628/linux-cmd/"/>
    <updated>2013-06-28T10:54:00+08:00</updated>
    <id>http://hiberabyss.github.io/blog/20130628/linux-cmd</id>
    <content type="html"><![CDATA[<p>本文主要是对常用的linux命令做一个总结。
<!--more--></p>

<h2 id="man">man</h2>
<p>man是使用less来显示手册页的，按h键可显示操作帮助，有如下使用技巧：</p>

<ol>
  <li>按下<code>m</code>标记位置，```可跳转到相应的标记。</li>
  <li>按下<code>！</code>可直接执行命令。</li>
</ol>

<p><code>bash
#搜索包含相应关键字的手册页
man -k keyword
</code></p>

<h2 id="who">who</h2>
<p>查看启动了多少shell。</p>

<h2 id="section">查看文件类型</h2>
<p><code>type</code>、<code>whatis</code>、<code>which</code></p>

<h2 id="sed">sed</h2>

<p><code>bash
#替换
sed -i 's/pattern/tostring/g' /path/to/file
#插入新行
sed -i 'a GATEWAY=' /path/to/file
</code></p>
]]></content>
  </entry>
  
</feed>
